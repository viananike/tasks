{% extends "base.html" %}

{% block title %}Admin - Manage Projects{% endblock %}

{% block content %}
<h2 style="text-align: center; color: #BB86FC;">Manage Projects</h2>

<!-- Add Project Form -->
<form method="POST" style="background-color: #1e1e1e; padding: 20px; border-radius: 12px; box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3); max-width: 600px; margin: 0 auto 40px;">
    <div style="margin-bottom: 15px;">
        <label for="name" style="display: block; margin-bottom: 5px; color: #EAEAEA;">Project Name:</label>
        <input type="text" id="name" name="name" required style="width: 100%; padding: 10px; border-radius: 6px; border: none; background-color: #2a2a2a; color: #fff;">
    </div>

    <div style="margin-bottom: 20px;">
        <label for="description" style="display: block; margin-bottom: 5px; color: #EAEAEA;">Project Description:</label>
        <textarea id="description" name="description" rows="4" style="width: 100%; padding: 10px; border-radius: 6px; border: none; background-color: #2a2a2a; color: #fff;"></textarea>
    </div>

    <button type="submit" style="background-color: #BB86FC; color: #121212; padding: 10px 20px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer;">Add Project</button>
</form>

<!-- Existing Projects Table -->
<h3 style="text-align: center; color: #BB86FC;">Existing Projects</h3>
<table style="width: 100%; border-collapse: collapse; background-color: #2a2a2a; border-radius: 10px; overflow: hidden; box-shadow: 0 2px 6px rgba(0,0,0,0.3); margin-top: 20px;">
    <thead>
        <tr style="background-color: #3b3b3b;">
            <th style="padding: 10px; color: #BB86FC;">Name</th>
            <th style="padding: 10px; color: #BB86FC;">Description</th>
            <th style="padding: 10px; color: #BB86FC;">Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for project in projects %}
            <tr style="border-bottom: 1px solid #444;">
                <td style="padding: 10px;">{{ project[1] }}</td>
                <td style="padding: 10px;">{{ project[2] }}</td>
                <td style="padding: 10px;">
                    <a href="/admin/projects/delete/{{ project[0] }}" style="color: #CF6679;" onclick="return confirm('Are you sure you want to delete this project?')">Delete</a>
                </td>
            </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
